<?xml version='1.0' encoding='UTF-8' ?>


<!--
    Document   : update.xml
    Created on : 13 février 2009, 16:23
    Author     : ecervetti
    Description:
        Purpose of the document follows.
	!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	CE FICHIER DOIT ETRE EN CHARACTERES UTF8 , REQUETES COMPRISES
	LES CARACTERES SUIVANTS DOIVENT S'AFFICHER CORRECTEMENT DANS VOTRE EDITEUR
	ééééééèèèèèèèàààààààààééééééèèèèèèèàààààààààééééééèèèèèèèàààààààààééééééèèèèèè
	SI CE N'EST PAS LE CAS, NE FAITES AUCUNE MODIF !!!!!!
	!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-->

<updates>
	<update id="1">
		<description>Création de la table de gestion des enquetes</description>
		<requete>CREATE TABLE IF NOT EXISTS `enquetes` (
  `id_enquete` int(11) NOT NULL auto_increment,
  `id_trigger` varchar(64) NOT NULL,
  `date_debut` datetime NOT NULL,
  `date_fin` datetime NOT NULL,
  PRIMARY KEY  (`id_enquete`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1</requete>
	</update>

<update id="2">
		<description>Création du menu de gestion des enquetes</description>
		<menu_new>
			<libelle>Gestion enquêtes</libelle>
			<sub idUnique="160HBIbY11y6fqOR" /> <!--Administration-->
			<cle cle="gestenquetes" />
			<cletotale cle="administration|gestenquetes" />
			<param option="" droit="Administration" visible="y" classe="clGestFormxTriggers" argument="''" /><!--Attention aux majuscules , argument entre simple quotes-->
		</menu_new>
	</update>

  <update id="4">
		<description>Mise à jour du référentiel diags-sfmu/packs</description>  <!-- force le réimport des fichiers sql des actes diags pack : meta/refccam/ccam_liste.sql et terminurg_zccam.sql , exportés comme indiqué sur le wiki -->
		<ccam />
  </update>

  <update id="7">
		<description>Mise à jour du référentiel diags-sfmu/packs rc2 + motifs</description>  <!-- force le réimport des fichiers sql des actes diags pack : meta/refccam/ccam_liste.sql et terminurg_zccam.sql , exportés comme indiqué sur le wiki -->
		<ccam />
  </update>

  <update id="8">
                <description>Ajout de l'option pour la gestion de l'UF de chirurgie (APHM)</description>
                <option_new>
                        <categorie>UF</categorie>
                        <cle>numUFChirurgie</cle>
                        <libelle>Le patient passera dans cette UF si le nom du médecin commence par "Dr CHIR"</libelle>
                </option_new>
  </update>


  <update id="15">
                <description>Mise à jour de l'option HprimXML_CodeMedecin</description>
		<option_upd>
			<cle>HprimXML_CodeMedecin</cle>
			<choix>x|ADELI|ADELI9|NOMMED</choix>
		</option_upd>	
  </update>

  <update id="17">
        <description>Création de l'option HprimXML_NomModulo</description>
	<option_new>
               <categorie>CCAM</categorie>
               <cle>HprimXML_NomModulo</cle>
               <libelle>Le numéro dans le nom du fichier est codé sur 3 caractères de 000 à 999.</libelle>
	       <type>bool</type>
        </option_new>
  </update>

  <update id="18">
        <description>Création de l'option Pacs_Actif</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>Pacs_Actif</cle>
               <libelle>L'appel contextuel vers le pacs est actif ou non.</libelle>
               <type>bool</type>
	       <admin>1</admin>
        </option_new>
  </update>

  <update id="19">
        <description>Création de l'option Pacs_Droit</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>Pacs_Droit</cle>
               <libelle>L'appel contextuel vers le pacs est actif ou non.</libelle>
               <type>bool</type>
	       <admin>1</admin>
        </option_new>
  </update>

   <update id="20">
        <description>Création de l'option Pacs_URL</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>Pacs_URL</cle>
               <libelle>URL de l'application appelée.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

   <update id="21">
        <description>Création de l'option Pacs_User</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>Pacs_User</cle>
               <libelle>L'utilisateur utilisé pour l'appel contextuel du pacs.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

   <update id="22">
        <description>Création de l'option Pacs_Pass</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>Pacs_Pass</cle>
               <libelle>Le mot de passe utilisé pour l'appel contextuel du pacs.</libelle>
               <admin>1</admin>
        </option_new>
  </update>


     <update id="24">
        <description>Création de l'option Activite4_desactiver_controle</description>
        <option_new>
               <categorie>CCAM</categorie>
               <cle>Activite4_desactiver_controle</cle>
               <libelle>Désactive le contrôle bloquant de la saisie de l'anesthesie</libelle>
			   <type>bool</type>
        </option_new>
  </update>

  <update id="25">
        <description>Création de l'option DxCare_Actif</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_Actif</cle>
               <libelle>L'appel contextuel vers DxCare est actif ou non.</libelle>
               <type>bool</type>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="26">
        <description>Création de l'option DxCare_Droit</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_Droit</cle>
               <libelle>L'appel contextuel vers DxCare est actif ou non.</libelle>
               <type>bool</type>
               <admin>1</admin>
        </option_new>
  </update>

   <update id="27">
        <description>Création de l'option DxCare_URL</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_URL</cle>
               <libelle>URL de l'application appelée.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

   <update id="28">
        <description>Création de l'option DxCare_User</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_User</cle>
               <libelle>L'utilisateur utilisé pour l'appel contextuel de DxCare.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

   <update id="29">
        <description>Création de l'option DxCare_Pass</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_Pass</cle>
               <libelle>Le mot de passe utilisé pour l'appel contextuel de DxCare.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="30">
        <description>Création de l'option DxCare_URL_Prescription</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_URL_Prescription</cle>
               <libelle>URL de l'application appelée.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="31">
        <description>Création de l'option DxCare_URL_QuestUrg</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_URL_QuestUrg</cle>
               <libelle>URL de l'application appelée.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="32">
        <description>Création de l'option DxCare_URL_Synthese</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_URL_Synthese</cle>
               <libelle>URL de l'application appelée.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="33">
        <description>Création de l'option DxCare_URL_Bilan</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_URL_Bilan</cle>
               <libelle>URL de l'application appelée.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="34">
        <description>Création de l'option DxCare_URL_PlanSoins</description>
        <option_new>
               <categorie>Appels contextuels</categorie>
               <cle>DxCare_URL_PlanSoins</cle>
               <libelle>URL de l'application appelée.</libelle>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="35">
        <description>Création de l'option HprimXML_FTPRepd (utilisé pour gérer les envois vers AS400)</description>
        <option_new>
               <categorie>CCAM</categorie>
               <cle>HprimXML_FTPRepd</cle>
               <libelle>URL distante où se trouveront les fichiers envoyés (spécifique AS400, laisser vide sinon)</libelle>
               <admin>1</admin>
        </option_new>
  </update>

  <update id="36">
        <description>Création de la table des diagnostics interdits</description>
        <requete base="ccam" file="meta/refccam/codescim10interdits.sql" />
  </update>

  <update id="37">
        <description>Extension du nombre de carateres autorisés pour le code diag</description>
        <requete base="ccam"  >ALTER TABLE `ccam_liste` CHANGE `nomitem` `nomitem` VARCHAR( 128 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL</requete>
  </update>

  <update id="38">
		<description>Ajout d'une colonne "commentaire radio" dans la table radio.</description>
		<requete>ALTER TABLE `radios` ADD `commentaire_radio` VARCHAR( 255 ) NOT NULL</requete>
  </update>

  <update id="40">
		<description>Ajout de l'entrée AJAX pour la mise à jour du commentaire de la radio.</description>
		<menu_new>
			<libelle>setComRadio</libelle>
			<sub idUnique="81iJ03ii5pIjLteB" /> <!--Statistiques-->
			<cle cle="setComRadio" />
			<cletotale cle="Ajax|setComRadio" />
            <param option="" droit="" visible="y" classe="clListeRadios" argument="'ajax'" />
		</menu_new>
  </update>

	<update id="41">
		<description>Mise à jour du référentiel diags-sfmu/packs rc3 + motifs grippe</description>  <!-- force le réimport des fichiers sql des actes diags pack : meta/refccam/ccam_liste.sql et terminurg_zccam.sql , exportés comme indiqué sur le wiki -->
		<ccam />
	</update>



</updates>
